-- Create table
create table T_AP_WARN_DETAIL
(
  CONTENT_ID  VARCHAR2(30) not null,
  PROVINCE_ID VARCHAR2(50) not null,
  CITY_ID     VARCHAR2(50) not null,
  USERID      VARCHAR2(11) not null,
  STARTDATE   DATE not null
);

-- Add comments to the columns 
comment on column T_AP_WARN_DETAIL.CONTENT_ID
  is '刷榜内容ID';
comment on column T_AP_WARN_DETAIL.PROVINCE_ID
  is '省';
comment on column T_AP_WARN_DETAIL.CITY_ID
  is '市';
comment on column T_AP_WARN_DETAIL.USERID
  is '下载用户';


-- Create database link 
create database link REPORT105.ORACLE.COM
  connect to MM2_REPORT identified by MM2_REPORT
  using '(DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = 10.1.3.105)(PORT = 1521))
    )
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = ora9i)
    )
  )';

-- Create the synonym 
create or replace synonym report_ondemand_order
  for tr_ondemand_order_hist@REPORT105.ORACLE.COM;

-- Create the synonym 
create or replace synonym REPORT_province
  for d_province@REPORT105.ORACLE.COM;

-- Create the synonym 
create or replace synonym REPORT_city
  for d_city@REPORT105.ORACLE.COM;

-----在电子流和货架同一数据库实例下执行如下操作：
---在电子流账户下，授权v_om_dictionary的select权限
grant select on v_om_dictionary to &ssms;
--创建视图
create or replace view v_om_dictionary as
select "ID","TYPE","NAME","ALIASID","ALIASNAME"
    from &mm_ppms.v_om_dictionary;
    
----不同实例下：
create or replace view v_om_dictionary as
select "ID","TYPE","NAME","ALIASID","ALIASNAME"
    from v_om_dictionary@&db_link_for_ppms; 


--建立对应的表
create table T_V_OM_DICTIONARY
(
  ALIASID       VARCHAR2(7) not null,
  ALIASNAME     VARCHAR2(200) not null,
  WAPCID        VARCHAR2(30),
  WAPPARENTCID  VARCHAR2(30),
  FIRSTID       VARCHAR2(30) not null,
  WWWCID        VARCHAR2(30),
  WWWPARENTCID  VARCHAR2(30),
  TERMCID       VARCHAR2(30),
  TERMPARENTCID VARCHAR2(30)
)
;
comment on column T_V_OM_DICTIONARY.ALIASID
  is '运营分类ID';
comment on column T_V_OM_DICTIONARY.ALIASNAME
  is '运营分类名称';
comment on column T_V_OM_DICTIONARY.WAPCID
  is 'wap门户货架ID（对应id）';
comment on column T_V_OM_DICTIONARY.WAPPARENTCID
  is 'wap门户一级分类货架ID';
comment on column T_V_OM_DICTIONARY.FIRSTID
  is '一级分类ID(电子流)';
comment on column T_V_OM_DICTIONARY.WWWCID
  is 'www门户货架ID（对应id）';
comment on column T_V_OM_DICTIONARY.WWWPARENTCID
  is 'www门户一级分类货架ID';
comment on column T_V_OM_DICTIONARY.TERMCID
  is '终端门户货架ID（对应id）';
comment on column T_V_OM_DICTIONARY.TERMPARENTCID
  is '终端门户一级分类货架ID';
alter table T_V_OM_DICTIONARY
  add constraint PK_T_V_OM_DICTIONARY primary key (FIRSTID, ALIASID);
-- Add/modify columns 
alter table T_V_OM_DICTIONARY add CREATETIME DATE default sysdate;
alter table T_V_OM_DICTIONARY add UPDATETIME DATE default sysdate;
-- Add comments to the columns 
comment on column T_V_OM_DICTIONARY.CREATETIME
  is '创建时间';
comment on column T_V_OM_DICTIONARY.UPDATETIME
  is '修改时间';  
  
--初始化配置数据
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('24', '角色', '18830903', '100001196', '1003', '7020', '100000005', '7021', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('31', '插画', '24436919', '100001197', '1002', '24436937', '100000004', '24436892', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('38', '爱情', '18830915', '100001197', '1002', '7028', '100000004', '7029', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('10', '摄影', '24436856', '100001195', '1001', '24436846', '100000003', '24436903', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('15', '棋牌', '18830906', '100001196', '1003', '691704', '100000005', '7628', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('20', '策略', '18830901', '100001196', '1003', '7014', '100000005', '7015', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('25', '益智', '24436891', '100001196', '1003', '24436929', '100000005', '7053', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('30', '植物', '24436926', '100001197', '1002', '24436941', '100000004', '24436873', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('37', '人物', '18830918', '100001197', '1002', '7030', '100000004', '7031', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('41', '军事', '24436924', '100001197', '1002', '24436939', '100000004', '24436877', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('1', '工具', '24436869', '100001195', '1001', '7004', '100000003', '7007', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('16', '动作', '18830902', '100001196', '1003', '7022', '100000005', '7023', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('22', '飞行', '24436879', '100001196', '1003', '24436920', '100000005', '24436857', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('3', '生活', '24436855', '100001195', '1001', '24436845', '100000003', '24436902', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('39', '创意', '24436918', '100001197', '1002', '24436936', '100000004', '24436890', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('8', '教育', '24436858', '100001195', '1001', '24436847', '100000003', '24436905', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('11', '商务', '24436870', '100001195', '1001', '7012', '100000003', '7013', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('12', '健康', '24436864', '100001195', '1001', '24436852', '100000003', '24436909', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('13', '动漫', '56685109', '100001195', '1001', '56175634', '100000003', '55643964', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('14', '休闲', '18830909', '100001196', '1003', '7018', '100000005', '7019', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('17', '体育', '18830908', '100001196', '1003', '7024', '100000005', '7025', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('18', '射击', '18830907', '100001196', '1003', '7026', '100000005', '7027', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('19', '冒险', '18830904', '100001196', '1003', '7016', '100000005', '7017', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('2', '娱乐', '24436872', '100001195', '1001', '7008', '100000003', '7009', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('21', '赛车', '24436878', '100001196', '1003', '24436904', '100000005', '24436860', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('23', '格斗', '24436876', '100001196', '1003', '24436899', '100000005', '24436844', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('26', '其他', '18830905', '100001196', '1003', '7052', '100000005', '24436854', '100000010');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('27', '节日', '18830912', '100001197', '1002', '7034', '100000004', '7035', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('28', '体育', '18830919', '100001197', '1002', '7040', '100000004', '7041', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('29', '动物', '18830910', '100001197', '1002', '7042', '100000004', '7043', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('32', '搞笑', '24436910', '100001197', '1002', '24436930', '100000004', '24436880', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('33', '建筑', '24436925', '100001197', '1002', '24436940', '100000004', '24436871', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('34', '汽车', '18830917', '100001197', '1002', '7048', '100000004', '7049', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('35', '卡通', '18830913', '100001197', '1002', '7044', '100000004', '7045', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('36', '风景', '18830911', '100001197', '1002', '7050', '100000004', '7051', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('4', '书籍', '24436859', '100001195', '1001', '24436848', '100000003', '6565770', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('40', '色彩', '24436913', '100001197', '1002', '24436932', '100000004', '24436883', '100000009');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('5', '新闻', '18830897', '100001195', '1001', '7005', '100000003', '7006', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('6', '视频', '24436866', '100001195', '1001', '24436882', '100000003', '24436912', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('7', '社交', '24436868', '100001195', '1001', '7010', '100000003', '7011', '100000008');
insert into T_V_OM_DICTIONARY (ALIASID, ALIASNAME, WAPCID, WAPPARENTCID, FIRSTID, WWWCID, WWWPARENTCID, TERMCID, TERMPARENTCID)
values ('9', '财务', '18830898', '100001195', '1001', '24436841', '100000003', '6565767', '100000008');
commit;  

insert into dbversion(DBSEQ,DBVERSION,LASTDBVERSION,PATCHVERSION) values (SEQ_DB_VERSION.nextval,'1.0.0.0','MM1.0.2.095_SSMS','MM1.0.2.100_SSMS');
commit;